
/* ===============
  ðŸ¥’ Pickle Typography
=============== */

@mixin pickle-typo($font, $size) {
    @if not map-has-key($pickle-fonts, font) {
        @include _pickle-error('No font found with name `#{$font}`');
    }
    @if not map-has-key($pickle-fonts, size) {
        @include _pickle-error('No font found with size `#{$size}`');
    }
};

@mixin _pickle-fonts {
    @each $name, $font in $pickle-fonts {
        @if not map-has-key($font, files) {
            @include _pickle-error('Font `#{$font}` is missing `files` parameter');
        }
        @if not map-has-key($font, family) {
            @include _pickle-error('Font `#{$font}` is missing `family` parameter');
        }

        $files: map-get($font, files);
        $src: 'local("?")';

        @if map-has-key($files, eot) {
            $src: ', #{$src} url("#{map-get($files, 'eot')}") format("eot")';
        }
        @if map-has-key($files, woff) {
            $src: ', #{$src} url("#{map-get($files, 'woff')}") format("woff")';
        }
        @if map-has-key($files, woff2) {
            $src: ', #{$src} url("#{map-get($files, 'woff2')}") format("woff2")';
        }
        @if map-has-key($files, ttf) {
            $src: ', #{$src} url("#{map-get($files, 'ttf')}") format("ttf")';
        }
        @if map-has-key($files, svg) {
            $src: ', #{$src} url("#{map-get($files, 'svg')}") format("svg")';
        }

        @font-face {
            font-family: map-get($font, family);
            src: $src;
            font-weight: normal;
            font-style: normal;
        }
    }
};
